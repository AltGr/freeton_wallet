; generated by drom from package skeleton 'library'

(library
  (name freeton_crawler_lib)
  (public_name freeton_crawler_lib)
  (wrapped false)
  (libraries lwt freeton_ocaml_sdk freeton_crawler_db_versions ez_pgocaml ez_cmdliner lwt.unix)
  (preprocess (pps pgocaml_ppx))
  (optional)
   
 (preprocessor_deps
   (env_var PGDATABASE)
   (env_var PGCUSTOM_CONVERTERS_CONFIG)
   (file updated.ml)
 )

  )


(rule
    (targets version.ml)
    (deps (:script version.mlt) package.toml)
    (action (with-stdout-to %{targets} (run %{ocaml} unix.cma %{script}))))

(documentation
  (package freeton_crawler_lib))

(rule
  (targets updated.ml)
  (deps
    ../freeton_crawler_db_versions/main.ml
    %{bin:freeton_crawler_db_updater})
  (action
      (run %{bin:freeton_crawler_db_updater} updated.ml))
)

